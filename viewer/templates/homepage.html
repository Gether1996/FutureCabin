{% extends 'base.html' %}
{% load static %}

{% block extra_head %}
    <title>Domov</title>
    <link rel="stylesheet" href="{% static 'lightbox.min.css' %}">
    <link rel="stylesheet" href="{% static 'slick.min.css' %}">
    <script src='{% static "scripts/fullcalendar-6.1.9/dist/index.global.min.js" %}'></script>
    <script>
        var selectedStartDate = null;
        var selectedEndDate = null;
        var eventData = [
            {% for event in event_data %}
                {
                    title: 'Rezervované',
                    start: '{{ event.start }}',
                    end: '{{ event.end }}',
                    display: 'background'
                },
            {% endfor %}
        ];
    </script>
{% endblock %}

{% block content %}

    <div class="slider">
        {% for photo in photos %}
            <div><img src="{{ photo.photo.url }}" alt="Slide"></div>
        {% endfor %}
    </div>

    <section id="reservations">

        <div class="calendar-container">
            <div id="calendar"></div>
            <div class="calendar-text">
                <ul>
                    <li>Minimálne 2 noci</li>
                    <li>Aktuálny deň a dni pred sa nedajú rezervovať</li>
                    <li>dlfjasdôlfajdf</li>
                    <li>dlfjasdôlfajdf</li>
                    <li>dlfjasdôlfajdf</li>
                    <li>Cena 99€ za noc</li>
                </ul>
            </div>
        </div>
        <div class="centered-container">
            <div id="dateDisplay">
                <p>Termín: </p>
                <p id="selectedDatesDisplay"></p>
            </div>
            <a class="reservation-button" id="checkout-link" href="{% url 'checkout' %}">Rezervovať</a>
        </div>
        <div class="centered-container">
            {% if messages %}
                {% for message in messages %}
                    <p class="message-text">{{ message }}</p>
                {% endfor %}
            {% endif %}
        </div>
    </section>

    <section id="gallery">
        <div class="centered-container">
            <h2 class="gallery-text">Galéria</h2>
        </div>

        <div class="photo-grid">
          {% for photo in photos %}
            <div class="photo-item">
              <a href="{{ photo.photo.url }}" data-lightbox="photos" data-title="{{ photo.description }}">
                <img src="{{ photo.photo.url }}" alt="{{ photo.description }}">
              </a>
            </div>
          {% endfor %}
        </div>
    </section>

    <footer id="footer">
        <p><i class="fa-duotone fa-phone"></i>  +421 949 610 003</p>
        <p><i class="fa-duotone fa-envelope"></i>  pat.kredatus@gmail.com</p>
        <p>chaticka s.r.o.</p>
        <p><i class="fa-solid fa-map-location-dot"></i>  49.225275,18.781458</p>
    </footer>

{% endblock %}

{% block extra_scripts %}
    <script src='{% static "scripts/slick.min.js" %}'></script>
    <script src='{% static "scripts/homepage.js" %}'></script>
    <script src='{% static "scripts/reservations.js" %}'></script>
    <script src='{% static "scripts/lightbox.min.js" %}'></script>
{% endblock %}